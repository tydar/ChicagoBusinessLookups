(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,a,t){e.exports=t(262)},105:function(e,a,t){},262:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),i=t(15),o=t.n(i),l=(t(105),t(19)),s=t(20),c=t(23),u=t(21),m=t(22),h=t(13),g=t(89),p=t(16),d=t(60),b=t.n(d),f=t(91),v=t.n(f),y={form:{display:"flex",flexDirection:"column"}};function C(e){var a=e.handleSubmit,t=e.handleChange,n=e.zipCode,i=e.businessName,o=e.classes;return r.a.createElement("form",{autoComplete:"off",noValidate:!0,className:o.form},r.a.createElement(b.a,{id:"zipCode",label:"Zip Code",value:n,onChange:t,type:"number",margin:"normal",variant:"filled",InputLabelProps:{shrink:!0}}),r.a.createElement(b.a,{id:"businessName",label:"Business Name",value:i,onChange:t,margin:"normal",variant:"filled",InputLabelProps:{shrink:!0}}),r.a.createElement(v.a,{variant:"contained",color:"primary",onClick:a},"Search"))}var P=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).state={businessName:"",zipCode:"",FormStyled:Object(p.withStyles)(y)(C)},t.handleChange=t.handleChange.bind(Object(h.a)(Object(h.a)(t))),t.submitLocal=t.submitLocal.bind(Object(h.a)(Object(h.a)(t))),t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"handleChange",value:function(e){var a=e.target.id,t=e.target.value;this.setState(Object(g.a)({},a,t))}},{key:"submitLocal",value:function(e){var a=this.props.handleSubmit,t=this.state,n=t.businessName,r=t.zipCode;e.preventDefault(),a([{key:"legal_name",value:n,operatorArity:"infixWord",operator:"like",type:"text"},{key:"doing_business_as_name",value:n,operatorArity:"infixWord",operator:"like",type:"text"},{key:"zip_code",value:r,operatorArity:"infix",operator:"=",type:"number"}])}},{key:"render",value:function(){var e=this.state,a=e.businessName,t=e.zipCode,n=e.FormStyled;return r.a.createElement(n,{handleSubmit:this.submitLocal,handleChange:this.handleChange,zipCode:t,businessName:a})}}]),a}(r.a.Component);var j=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;function i(e,a,t){var n="$limit="+a+"&$offset="+t+"&$where=",r=0;return e.map(function(e,a){if(null!==e.value&&""!==e.value){0!==a&&r>0&&(n+=" OR ");var t=e.value,i=e.key;"text"===e.type?(i="UPPER("+e.key+")",t="'%"+e.value.toUpperCase()+"%'"):t="'"+e.value+"'","infixWord"===e.operatorArity?n=n+i+" "+e.operator+" "+t:"function"===e.operatorArity?n=n+e.operator+" "+i+", "+t+")":"infix"===e.operatorArity&&(n=n+i+e.operator+t),r++}}),n}var o=i(a,t,n),g=encodeURI(o);return function(o){function p(e){var a;return Object(l.a)(this,p),(a=Object(c.a)(this,Object(u.a)(p).call(this,e))).state={socrataData:null,error:null,pageSize:t,page:n/t,pageChange:!1},a.setPage=a.setPage.bind(Object(h.a)(Object(h.a)(a))),a.setPageSize=a.setPageSize.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(p,o),Object(s.a)(p,[{key:"buildQueryURI",value:function(e,t){var n=i(a,e,t*e);return encodeURI(n)}},{key:"setPage",value:function(e){this.setState({page:e,pageChange:!0})}},{key:"setPageSize",value:function(e){this.setState({pageSize:e,pageChange:!0})}},{key:"componentDidMount",value:function(){var e=this,a="https://data.cityofchicago.org/resource/xqx5-8hwx.json?$$app_token=7wM9LP6DnrCm11OI0KnTGl75T&$order=expiration_date DESC&";console.log(a+g),fetch(a+g).then(function(e){return e.json()}).then(function(a){e.setState({socrataData:a})},function(a){e.setState({error:a})})}},{key:"componentDidUpdate",value:function(){var e=this,a=this.state,t=a.pageSize,n=a.page;!0===this.state.pageChange&&(fetch("https://data.cityofchicago.org/resource/xqx5-8hwx.json?$$app_token=7wM9LP6DnrCm11OI0KnTGl75T&$order=expiration_date DESC&"+this.buildQueryURI(t,n)).then(function(e){return e.json()}).then(function(a){e.setState({socrataData:a})},function(a){e.setState({error:a})}),this.setState({pageChange:!1}))}},{key:"render",value:function(){var a=this.state,t=a.socrataData,n=a.error,i=a.page,o=a.pageSize;return r.a.createElement(e,{socrataData:t,error:n,setPage:this.setPage,setPageSize:this.setPageSize,page:i,pageSize:o})}}]),p}(r.a.Component)},E=t(93),O=t.n(E),S=t(94),k=t.n(S),w=t(24),x=t.n(w),D=t(92),z=t.n(D),_=t(45),N=t.n(_),R=t(95),L=t.n(R),I=t(96),$=t.n(I);function A(e){return r.a.createElement(z.a,null,r.a.createElement(N.a,null,[{id:"dba_name",numeric:!1,label:"Doing Business As"},{id:"legal_name",numeric:!1,label:"Legal Name"},{id:"license_number",numeric:!0,label:"License Number"},{id:"expiration_date",numeric:!1,label:"Expiration Date"}].map(function(e){return r.a.createElement(x.a,{key:e.id,numeric:e.numeric},e.label)})))}function U(e){var a=e.socrataData,t=e.page,n=e.rowsPerPage,i=e.onChangePage,o=e.onChangeRowsPerPage;return null==a?null:r.a.createElement(O.a,null,r.a.createElement(A,null),r.a.createElement(k.a,null,a.map(function(e){return r.a.createElement(N.a,{key:e.id},r.a.createElement(x.a,null,e.doing_business_as_name),r.a.createElement(x.a,null,e.legal_name),r.a.createElement(x.a,{numeric:!0},e.license_number),r.a.createElement(x.a,null,e.expiration_date))})),r.a.createElement(L.a,null,r.a.createElement(N.a,null,r.a.createElement($.a,{rowsPerPage:n,page:t,onChangePage:i,onChangeRowsPerPage:o,labelDisplayedRows:function(e){var a=e.from;e.to,e.count;return"".concat(a,"-").concat(a+n-1)}}))))}var B=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).onChangePage=t.onChangePage.bind(Object(h.a)(Object(h.a)(t))),t.onChangeRowsPerPage=t.onChangeRowsPerPage.bind(Object(h.a)(Object(h.a)(t))),t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"onChangePage",value:function(e,a){e.preventDefault(),this.props.setPage(a)}},{key:"onChangeRowsPerPage",value:function(e){e.preventDefault(),this.props.setPageSize(e.target.value)}},{key:"render",value:function(){var e=this.props,a=e.socrataData,t=e.page,n=e.pageSize;return r.a.createElement(U,{socrataData:a,onChangePage:this.onChangePage,onChangeRowsPerPage:this.onChangeRowsPerPage,page:t,rowsPerPage:n})}}]),a}(r.a.Component),T=t(99),q=t.n(T),M=t(59),W=t.n(M),G=t(31),Q=t.n(G),F=t(98),H=t.n(F),J=t(44),K=t.n(J),V=t(97),Z=Object(p.createMuiTheme)({palette:{primary:{main:"#b3ddf2"},secondary:{main:"#ff0000"}},typography:{useNextVariants:!0}}),X=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).state={submitted:!1,query:[]},t.handleSubmit=t.handleSubmit.bind(Object(h.a)(Object(h.a)(t))),t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"handleSubmit",value:function(e){this.setState({query:e,submitted:!0})}},{key:"render",value:function(){var e=this.state,a=e.submitted,t=e.query,n=this.props.classes,i=a?j(B,t):null;return r.a.createElement(p.MuiThemeProvider,{theme:Z},r.a.createElement(H.a,null),r.a.createElement(V.Helmet,null,r.a.createElement("title",null,"Chicago Business Lookup")),r.a.createElement("div",{className:n.root},r.a.createElement("div",{className:n.grow},r.a.createElement(q.a,{position:"static"},r.a.createElement(W.a,null,r.a.createElement(Q.a,{variant:"title",color:"inherit",className:n.grow},"Chicago Business Search")))),r.a.createElement(K.a,{className:n.root},r.a.createElement("div",{className:n.container},r.a.createElement(Q.a,{variant:"subheading",color:"inherit",className:n.text},"Quick, dead-simple business lookups using City of Chicago data"),r.a.createElement(Q.a,{variant:"body 2",color:"inherit",className:n.text},"Use this tool to look up the status of business licenses based on their legal or DBA name or zip code. Coming soon: more advanced filtering and the ability to lookup by multiple criteria at once."),r.a.createElement(P,{handleSubmit:this.handleSubmit}),a?r.a.createElement(i,null):null))))}}]),a}(n.Component),Y=Object(p.withStyles)(function(e){return{root:{display:"flex",flexDirection:"column"},container:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"100vh",width:"75%",alignSelf:"center"},grow:{flexGrow:1},text:{alignSelf:"start",marginTop:e.spacing.unit,marginLeft:e.spacing.unit}}})(X);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[100,2,1]]]);
//# sourceMappingURL=main.bf3ae32e.chunk.js.map